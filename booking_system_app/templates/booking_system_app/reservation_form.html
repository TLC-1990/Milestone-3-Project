{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">
  <h2>Make a Reservation</h2>

  {% if messages %}
  {% for message in messages %}
  <div class="alert alert-info">{{ message }}</div>
  {% endfor %}
  {% endif %}

  <form method="POST" novalidate>
    {% if form.errors %}
    <div class="alert alert-danger">
      <strong>Please correct the errors below:</strong>
      <ul>
        {% for field in form %}
        {% if field.errors %}
        <li><strong>{{ field.label }}:</strong> {{ field.errors|striptags }}</li>
        {% endif %}
        {% endfor %}
        {% if form.non_field_errors %}
        <div class="alert alert-danger">
          {% for error in form.non_field_errors %}
          <strong>{{ error }}</strong>
          {% endfor %}
        </div>
        {% endif %}
      </ul>
    </div>
    {% endif %}
    {% csrf_token %}
    {{ form.media }}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary mt-2">Book Now</button>
  </form>
  <!-- Litepicker -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/litepicker/dist/css/litepicker.css" />
  <script src="https://cdn.jsdelivr.net/npm/litepicker/dist/litepicker.js"></script>

  <script>
    new Litepicker({
      element: document.getElementById('datepicker'),
      format: 'DD-MM-YYYY',
      minDate: new Date()
    });
  </script>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll('.alert').forEach(function (el) {
      el.style.display = 'none';
    });
  });
</script>
{% endblock %}